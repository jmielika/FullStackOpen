{"map":{"version":3,"sources":["static/js/main.87b9b9fa.chunk.js"],"names":["this","push","15","module","exports","__webpack_require__","37","38","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","axios","axios_default","baseUrl","services_persons","a","get","then","response","data","newObject","post","id","console","log","concat","put","delete","components_Person","_ref","name","number","handleDeletePerson","createElement","type","onClick","components_Persons","arr","arg","persons","nameFilter","_handleDeletePerson","i","filter","person","toLowerCase","indexOf","map","key","components_FilterForm","onChange","placeholder","value","components_PersonForm","onSubmit","onNameChange","phoneNumber","onNumberChange","components_Notification","errorMessage","className","message","src_App","_useState","Object","_useState2","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newPhoneNumber","setNewPhoneNumber","_useState7","_useState8","setNameFilter","_useState9","_useState10","setErrorMessage","initialPersons","event","target","preventDefault","personObject","checkPersonOccurrency","toLocaleLowerCase","length","includes","window","confirm","returnedPerson","personOrig","catch","error","setTimeout","personOfId","render","StrictMode","document","getElementById"],"mappings":"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"},"code":"(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){\"use strict\";t.r(n);var a=t(0),o=t.n(a),r=t(14),c=t.n(r),u=t(4),l=t(2),i=t(3),m=t.n(i),s=\"https://tranquil-sands-81334.herokuapp.com/api/persons\",d=function(){return m.a.get(s).then((function(e){return e.data}))},f=function(e){return m.a.post(s,e).then((function(e){return e.data}))},h=function(e,n){return console.log(\"P\\xe4ivitet\\xe4\\xe4n id \".concat(e,' osoitteessa \"').concat(s,\"/\").concat(e,'\"')),m.a.put(\"\".concat(s,\"/\").concat(e),n).then((function(e){return e.data}))},b=function(e){return console.log(\"Poistetaan id \".concat(e,' osoitteessa \"').concat(s,\"/\").concat(e,'\"')),m.a.delete(\"\".concat(s,\"/\").concat(e)).then((function(e){return e.data}))},p=function(e){var n=e.name,t=e.number,a=e.handleDeletePerson;return o.a.createElement(\"li\",null,n,\" \",t,o.a.createElement(\"button\",{type:\"submit\",onClick:a},\"delete\"))},g=function(e){var n,t,a=e.persons,r=e.nameFilter,c=(e.i,e.handleDeletePerson);return o.a.createElement(\"ul\",null,(n=a,t=r,n.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))).map((function(e){return o.a.createElement(p,{key:e.id,id:e.id,name:e.name,number:e.number,handleDeletePerson:function(){return c(e.id)}})})))},E=function(e){var n=e.onChange,t=e.nameFilter;return o.a.createElement(\"div\",null,\"filter shown with\",o.a.createElement(\"input\",{type:\"text\",placeholder:\"Search name...\",value:t,onChange:n}))},v=function(e){var n=e.onSubmit,t=e.name,a=e.onNameChange,r=e.phoneNumber,c=e.onNumberChange;return o.a.createElement(\"form\",{onSubmit:n},o.a.createElement(\"div\",null,\"name: \",o.a.createElement(\"input\",{value:t,onChange:a})),o.a.createElement(\"div\",null,\"number: \",o.a.createElement(\"input\",{value:r,onChange:c})),o.a.createElement(\"div\",null,o.a.createElement(\"button\",{type:\"submit\"},\"add\")))},w=function(e){var n=e.errorMessage;return null===n?null:o.a.createElement(\"div\",{className:n.type},n.message)},C=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(\"\"),i=Object(l.a)(c,2),m=i[0],s=i[1],p=Object(a.useState)(\"\"),C=Object(l.a)(p,2),O=C[0],j=C[1],S=Object(a.useState)(\"\"),y=Object(l.a)(S,2),L=y[0],k=y[1],N=Object(a.useState)(null),P=Object(l.a)(N,2),D=P[0],F=P[1];Object(a.useEffect)((function(){d().then((function(e){r(e)}))}),[]);return o.a.createElement(\"div\",null,o.a.createElement(\"h2\",null,\"Phonebook\"),o.a.createElement(w,{errorMessage:D}),o.a.createElement(E,{onChange:function(e){k(e.target.value)},nameFilter:L}),o.a.createElement(\"h3\",null,\"add a new\"),o.a.createElement(v,{onSubmit:function(e){e.preventDefault();var n={name:m,number:O},a=t.filter((function(e){return e.name.toLocaleLowerCase()===m.toLocaleLowerCase()}));console.log(a),1===a.length&&(console.log(a[0].id),n=Object(u.a)(Object(u.a)({},n),{},{id:a[0].id})),a.map((function(e){return e.name.toLocaleLowerCase})).includes(m.toLocaleLowerCase,0)?(window.confirm(\"\".concat(m,\" is already added to phonebook, replace the old number with a new one?\"))&&(console.log(\"\".concat(n.name,\" is added, changing number\")),h(n.id,n).then((function(e){r(t.map((function(t){return t.id!==n.id?t:e})))})).catch((function(e){r(t.filter((function(e){return e.id!==n.id}))),F({message:\"Information of \".concat(n.name,\" has already been removed from server\"),type:\"errorUnsuccessful\"}),setTimeout((function(){F(null)}),5e3)})),F({message:\"\".concat(n.name,\"'s number changed to \").concat(n.number),type:\"errorSuccessful\"}),setTimeout((function(){F(null)}),5e3)),s(\"\"),j(\"\")):(console.log(\"\".concat(n.name,\" is a new person, adding person to the database\")),f(n).then((function(e){r(t.concat(e)),s(\"\"),j(\"\")})),F({message:\"\".concat(n.name,\" and their number \").concat(n.number,\" added to the phonebook\"),type:\"errorSuccessful\"}),setTimeout((function(){F(null)}),5e3))},name:m,onNameChange:function(e){s(e.target.value)},phoneNumber:O,onNumberChange:function(e){j(e.target.value)}}),o.a.createElement(\"h2\",null,\"Numbers\"),o.a.createElement(\"ul\",null,o.a.createElement(g,{persons:t,nameFilter:L,handleDeletePerson:function(e){var n=t.filter((function(n){return n.id===e}))[0];window.confirm(\"Delete \".concat(n.name,\"?\"))&&b(e).then((function(){r(t.filter((function(n){return n.id!==e}))),F({message:\"\".concat(n.name,\" and their number \").concat(n.number,\" deleted from the phonebook\"),type:\"errorSuccessful\"}),setTimeout((function(){F(null)}),5e3)}))}})))};t(37);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById(\"root\"))}},[[15,1,2]]]);","extractedComments":[]}